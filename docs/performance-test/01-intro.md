# 성능 테스트

## 1. 목적

성능 테스트를 통해서 다음과 같은 목적을 달성하고자 합니다.

- 어느 정도의 부하를 견딜 수 있는지 알고 있다.
- 한계치에서 병목이 생기는 지점이 알고 있다.
- 자원을 효율적으로 사용한다.
- 메모리 누수, 오류, 오버플로우는 발생하지 않는다.
- 최악의 상황에서 어떤 동작을 하는지 직접 확인하였다.
- 장애 조치와 복구의 동작을 직접 확인하였다.

---

## 2. 테스트 도구 / 환경

- 도구 : K6 -> InfluxDB -> Grafana (대시보드)
- 실행 환경: 로컬(MacBook Air M1 / 16GB RAM)에서 k6 실행
- Docker 구성 : InfluxDB + Grafana
- 실행 명령어
  ```
  k6 run --out influxdb=http://localhost:8086/k6 script.js
  ```

---

## 3. 트래픽 가정

해당 이머커스의 프로젝트의 트래픽을 다음과 같이 가정하였습니다.

```
- DAU(Daily Active User) : 2,000,000 명
- 1인당 일 평균 접속수 : 2회
- 피크 집중률 : 평소 대비 10배
```

### 계산 근거

#### 1) 일 총 접속 수 (방문 단위)

- DAU × 1명당 1일 평균 접속 수 = 2,000,000 × 2 = 4,000,000 회/일

#### 2) 1일 평균 RPS (Request Per Second)

- 1일 총 접속 수 ÷ 86,400 (초/일) = 4,000,000 ÷ 86,400 ≈ 46 RPS

#### 3) 일 최대 RPS (Request Per Second)

- 평균 RPS × (피크 배수) = 46 × 10 = 460 RPS
